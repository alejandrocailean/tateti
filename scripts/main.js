"use strict";!function(){var t,a=["x","o"],e=function(){return a[t]},n=function(t){return'Turno de <b class="turno">'+t+"</b>"},o=function(t){$("#modal-mensajes").find("[data-mensaje]").html(t),$("#modal-mensajes").modal("show")},d=function(){var t=!1;if($("table.tateti tr").each(function(){t=t||3===$(this).find("[data-jugador="+e()+"]").length}),!t)for(var a=1;a<=3;a++)t=t||3===$("table.tateti td[data-columna="+a+"][data-jugador="+e()+"]").length;if(!t){for(var n=0,d=1;d<=3;d++)n+=$("table.tateti tr[data-fila="+d+"] td[data-columna="+d+"][data-jugador="+e()+"]").length;t=3===n}if(!t){for(var i=0,r=1;r<=3;r++)i+=$("table.tateti tr[data-fila="+r+"] td[data-columna="+(4-r)+"][data-jugador="+e()+"]").length;t=3===i}var l=$("[data-jugador]").length;return t?($("table.tateti").find("td").unbind(),o("¡"+e().toUpperCase()+" ha ganado con "+l+" casillas jugadas!"),$("#titulo").html("Ganó "+e().toUpperCase())):9===l&&(o("¡Ha sido un empate!"),$("#titulo").html("Empate :-|"),t=!0),t},i=function(){d()||(t<1?t++:t=0,$("#titulo").html(n(e())))},r=function(){t=-1,$("#contenedor").empty();var a=$("#tablero-ejemplo").clone();a.removeAttr("id"),a.appendTo("#contenedor"),a.hide(),a.removeClass("hidden"),a.slideDown("fast",function(){$(window).trigger("resize")}),$("[data-jugar]").html("Empezar de nuevo"),i(),a.find("td").click(function(){var t=$(this);t.is("[data-jugador]")||(t.attr("data-jugador",e()),t.html(e()),i())})};$(document).ready(function(){$(window).on("resize",function(){$("table.tateti td").each(function(){$(this).removeAttr("style");var t=$("#contenedor").width()/3,a=t;$(this).css({width:t,height:a})})}),$("[data-jugar]").click(r)})}();